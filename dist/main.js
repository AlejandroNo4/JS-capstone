(()=>{"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(c,Phaser.Scene);var i,o,n,y,l=(n=c,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(n);if(y){var r=s(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return a(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),l.call(this,"Introduction")}return i=c,(o=[{key:"preload",value:function(){this.load.image("map-atlas","./assets/images/map/terrain-atlas.png"),this.load.tilemapTiledJSON("map","./assets/images/map/map.json"),this.load.spritesheet("player","./assets/images/characters/player.png",{frameHeight:138.8,frameWidth:109.5})}},{key:"create",value:function(){var e=this.make.tilemap({key:"map"}),t=e.addTilesetImage("map-tileset","map-atlas"),r=(e.createLayer("ground",t,0,0),e.createLayer("obstacles",t,0,0));r.setCollisionByExclusion([-1]),e.createLayer("details",t,0,0),this.player=this.physics.add.sprite(400,12750,"player",64),this.physics.world.bounds.width=e.widthInPixels,this.physics.world.bounds.height=e.heightInPixels,this.player.setCollideWorldBounds(!0),this.cursors=this.input.keyboard.createCursorKeys(),this.anims.create({key:"up",frames:this.anims.generateFrameNumbers("player",{frames:[64,65,66,67,68,69,70,71]}),frameRate:10}),this.anims.create({key:"down",frames:this.anims.generateFrameNumbers("player",{frames:[0,1,2,3,4,5,6,7]}),frameRate:10}),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("player",{frames:[32,33,34,35,36,37,38,39]}),frameRate:10}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("player",{frames:[24,25,26,27,28,29,30,31]}),frameRate:10}),this.anims.create({key:"downLeft",frames:this.anims.generateFrameNumbers("player",{frames:[16,17,18,19,20,21,22,23]}),frameRate:10}),this.anims.create({key:"upLeft",frames:this.anims.generateFrameNumbers("player",{frames:[48,49,50,51,52,53,54,55]}),frameRate:10}),this.anims.create({key:"downRight",frames:this.anims.generateFrameNumbers("player",{frames:[8,9,10,11,12,13,14,15]}),frameRate:10}),this.anims.create({key:"upRight",frames:this.anims.generateFrameNumbers("player",{frames:[40,41,42,43,44,45,46,47]}),frameRate:10}),this.cameras.main.setBounds(0,0,e.widthInPixels,e.heightInPixels),this.cameras.main.startFollow(this.player),this.player.setCollideWorldBounds(!0),this.physics.add.collider(this.player,r)}},{key:"update",value:function(){this.player.body.setVelocity(0),this.player.body.allowGravity=!1,this.moved=!1,this.cursors.left.isDown&&(this.moved=!0,this.player.body.setVelocityX(-150)),this.cursors.right.isDown&&(this.moved=!0,this.player.body.setVelocityX(150)),this.cursors.up.isDown&&(this.moved=!0,this.player.body.setVelocityY(-150)),this.cursors.down.isDown&&(this.moved=!0,this.player.body.setVelocityY(150)),this.moved||this.player.anims.stop(),0==this.player.body.velocity.y&&(this.player.body.velocity.x<0?this.player.anims.play("left",!0):this.player.body.velocity.x>0&&this.player.anims.playReverse("right",!0)),0==this.player.body.velocity.x&&(this.player.body.velocity.y<0?this.player.anims.play("up",!0):this.player.body.velocity.y>0&&this.player.anims.play("down",!0)),0!==this.player.body.velocity.x&&0!==this.player.body.velocity.y&&(this.player.body.velocity.x<0&&this.player.body.velocity.y<0?this.player.anims.play("upLeft",!0):this.player.body.velocity.x>0&&this.player.body.velocity.y>0?this.player.anims.playReverse("downRight",!0):this.player.body.velocity.x>0&&this.player.body.velocity.y<0?this.player.anims.playReverse("upRight",!0):this.player.body.velocity.x<0&&this.player.body.velocity.y>0&&this.player.anims.play("downLeft",!0))}}])&&t(i.prototype,o),c}(),o={type:Phaser.AUTO,width:800,height:600,physics:{default:"arcade",arcade:{gravity:{y:200}}},scene:[i]};new Phaser.Game(o)})();